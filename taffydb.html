<!DOCTYPE html>
<html lang="es">
<head>
	<title>Inicio Brick v_0.0.1</title>
	<meta charset="UTF-8">
	<!-- etiquetas para android -->
	<meta name="format-detection" content="telephone=yes" />
  	<meta name="msapplication-tap-highlight" content="yes" />
  	<uses-permission android:name="android.permission.INTERNET" />

  	<link rel="stylesheet" type="text/css" href="app/components/bootstrap/dist/css/bootstrap.css">
  	<link rel="stylesheet" type="text/css" href="app/components/bootstrap/dist/css/bootstrap-theme.css">

  	<script src="app/components/jquery/jquery2.min.js"></script>
  	<script src="app/components/bootstrap/dist/js/bootstrap.js"></script>
  	<script src="app/components/taffydb/taffy.js"></script>


  	<script>
		$(function(){
			console.log("creando la primera BD con taffy");
			//---------------------------------------------
			//base de datos ciudades
			//var ciudades = TAFFY();
			//Base con algunos registros
			var ciudades = TAFFY([
				{name:"New York",state:"WA"},
				{name:"Las Vegas",state:"NV"},
				{name:"Boston",state:"MA"}
				]);

			ciudades().each(function (r) {
				console.log(r);
				//console.log(r.state);
			});
			//console.log(ciudades().first().___id);
			//ciudades().first();
			//console.log(ciudades);
			//console.log(ciudades({name:"New York"}));

			//ciudades(function () {return true;});

			//ciudades().select("name");
			//---------------------------------------------
			//insertar registros con insert
			ciudades.insert({name:"Portland",state:"OR"});
			ciudades.insert({name:"Pensilvania",state:"YU"});
			//console.log("inserta la ciudad portland...");
			//console.log(ciudades);
			//---------------------------------------------
			//mostrando count a la ciudad boston
			//console.log(ciudades({name:"Boston"}).count());
			//---------------------------------------------
			//mostrando los 2 primeros registros de ciudades
			/*ciudades().limit().each(function (r) {
				console.log(r.name);
			});*/
			/*ciudades().each(function (r) {
				console.log(r.name);
				console.log(r.state);
			});*/
			//---------------------------------------------
			//mostrar todos los registros
			//var ciudad = ciudades().select("name","state");
			//console.log(ciudad);
			//----------------------------------------------
			/*ciudades({name:"Portland"}).each(function (r) {
			   console.log(r.name + "!");
			});*/
			//---------------------------------------------
			ciudades().each(function (r) {
				console.log(r);
				/**/
				//console.log(r.state);  'r.name+'-'+r.state+'
			});

			var ciudad = ciudades().select("name","state");

			$.each(ciudad, function(index, val) {
				 /* iterate through array or object */
				 console.log(index+'-'+val);
				 $("#resultado").append(
						'<li class="list-group-item">'+val+'</li>'
					);
			});




		});
	</script>
</head>
<body>

	<nav class="navbar navbar-default"><!-- fixed para que se quede ahi -->
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">

	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button> <!-- este es el boton de menu -->

	      <!--<a class="navbar-brand" href="#">Brand</a>-->
	      <p class="navbar-brand">Brick</p>

	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><!-- este collapse permite el boton de menu -->

	      <ul class="nav navbar-nav navbar-right">
	        <li><a href="loki.html">Loki</a></li>
	        <li><a href="webstore.html">WebStore</a></li>
	        <li><a href="indexed.html">Indexed DB</a></li>
	        <li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>
	          <ul class="dropdown-menu" role="menu">
	            <li><a href="#">Action</a></li>
	            <li><a href="#">Another action</a></li>
	            <li><a href="#">Something else here</a></li>
	            <li class="divider"></li>
	            <li><a href="#">Separated link</a></li>
	          </ul>
	        </li>
	      </ul>

	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>

	<h2>Test TaffyDB</h2>
	<br>
	<p>Esta lista es cargada desde una BD taffy.</p>
	<p>Para crear una base de datos se escribe:</p>
	<p>var nom_bd = TAFFY();</p>
	<ul id="resultado" class="list-group">

	</ul>

</body>
</html>
